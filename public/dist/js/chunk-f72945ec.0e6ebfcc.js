(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f72945ec"],{6569:function(e,t,c){"use strict";c.r(t);var r=c("8bbf"),n={class:"list-header"},a=Object(r["createTextVNode"])("搜索"),o={class:"list-body"},l=Object(r["createTextVNode"])("编辑"),i=Object(r["createTextVNode"])("删除"),u={class:"list-footer"};function s(e,t,c,s,p,d){var b=Object(r["resolveComponent"])("el-input"),f=Object(r["resolveComponent"])("el-form-item"),O=Object(r["resolveComponent"])("el-option"),j=Object(r["resolveComponent"])("el-select"),g=Object(r["resolveComponent"])("el-button"),m=Object(r["resolveComponent"])("el-form"),h=Object(r["resolveComponent"])("el-table-column"),y=Object(r["resolveComponent"])("el-tag"),C=Object(r["resolveComponent"])("el-table"),w=Object(r["resolveComponent"])("el-pagination"),x=Object(r["resolveComponent"])("main-panel"),V=Object(r["resolveDirective"])("loading");return Object(r["openBlock"])(),Object(r["createBlock"])(x,{class:"list-container",title:"产品列表"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])("div",n,[Object(r["createVNode"])(m,{inline:!0,model:s.params,class:"filters"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(f,{label:"产品名称"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(b,{modelValue:s.params.keyword,"onUpdate:modelValue":t[1]||(t[1]=function(e){return s.params.keyword=e}),placeholder:"请输入关键字"},null,8,["modelValue"])]})),_:1}),Object(r["createVNode"])(f,{label:"产品类型",prop:"prodType"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(j,{modelValue:s.params.prodType,"onUpdate:modelValue":t[2]||(t[2]=function(e){return s.params.prodType=e}),filterable:""},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(O,{label:"全部",value:""}),(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(s.state.prodtypeList,(function(e,t){return Object(r["openBlock"])(),Object(r["createBlock"])(O,{key:t,label:e.typeName,value:e.id},null,8,["label","value"])})),128))]})),_:1},8,["modelValue"])]})),_:1}),Object(r["createVNode"])(f,null,{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(g,{type:"primary",onClick:s.fetchFirst},{default:Object(r["withCtx"])((function(){return[a]})),_:1},8,["onClick"])]})),_:1})]})),_:1},8,["model"])]),Object(r["createVNode"])("div",o,[Object(r["withDirectives"])(Object(r["createVNode"])(C,{ref:"tagTable",data:s.state.tableData,"tooltip-effect":"dark"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(h,{type:"index",index:s.listIndex,width:"42"},null,8,["index"]),Object(r["createVNode"])(h,{prop:"name",label:"产品名称"}),Object(r["createVNode"])(h,{prop:"desc",label:"产品描述"}),Object(r["createVNode"])(h,{prop:"docUrl",label:"文档地址"}),Object(r["createVNode"])(h,{prop:"previewUrl",label:"预览地址"}),Object(r["createVNode"])(h,{prop:"logo",label:"logo"}),Object(r["createVNode"])(h,{label:"状态"},{default:Object(r["withCtx"])((function(e){return[0===e.row.state?(Object(r["openBlock"])(),Object(r["createBlock"])(y,{key:0},{default:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.row.statusText),1)]})),_:2},1024)):Object(r["createCommentVNode"])("",!0),1===e.row.state?(Object(r["openBlock"])(),Object(r["createBlock"])(y,{key:1,type:"success"},{default:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.row.statusText),1)]})),_:2},1024)):Object(r["createCommentVNode"])("",!0),2===e.row.state?(Object(r["openBlock"])(),Object(r["createBlock"])(y,{key:2,type:"danger"},{default:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.row.statusText),1)]})),_:2},1024)):Object(r["createCommentVNode"])("",!0)]})),_:1}),Object(r["createVNode"])(h,{prop:"createAt",label:"创建时间"}),Object(r["createVNode"])(h,{fixed:"right",label:"操作",width:"180"},{default:Object(r["withCtx"])((function(t){return[Object(r["createVNode"])(g,{type:"text",size:"small",onClick:function(c){return e.updateItem(t.row)}},{default:Object(r["withCtx"])((function(){return[l]})),_:2},1032,["onClick"]),Object(r["createVNode"])(g,{type:"text",size:"small",onClick:function(c){return e.confirmDelete(t.row)}},{default:Object(r["withCtx"])((function(){return[i]})),_:2},1032,["onClick"]),Object(r["createVNode"])(g,{type:"text",size:"small",onClick:function(c){return e.switchStatus(t.row)}},{default:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(t.row.enable?"发布":"下架"),1)]})),_:2},1032,["onClick"])]})),_:1})]})),_:1},8,["data"]),[[V,e.loading]])]),Object(r["createVNode"])("div",u,[Object(r["createVNode"])(w,{background:"","current-page":s.pageState.currentPage,"page-sizes":s.pageState.pageSizeList,"page-size":s.pageState.pageSize,layout:"total, sizes,prev, pager, next",total:s.pageState.total,onSizeChange:s.fetchBySize,onCurrentChange:s.fetchByPageNum},null,8,["current-page","page-sizes","page-size","total","onSizeChange","onCurrentChange"])])]})),_:1})}var p=c("1da1"),d=(c("7f17"),c("6573")),b=c.n(d),f=(c("96cf"),c("159b"),c("c4c8")),O=c("86c9"),j=c("5a0c"),g=c.n(j);function m(e){var t=Object(r["reactive"])({total:0,currentPage:1,pageSize:10,params:{},pageSizeList:[10,20,50,100]}),c=function(){console.log("fetchList..."),e(t)},n=function(){t.currentPage=1,e()},a=function(c){t.pageSize=c,e()},o=function(c){t.currentPage=c,e()},l=function(e){return(t.currentPage-1)*t.pageSize+e+1};return{pageState:t,fetchOnly:c,fetchFirst:n,fetchBySize:a,fetchByPageNum:o,listIndex:l}}var h={setup:function(){var e=Object(r["reactive"])({keyword:"",prodType:"",state:""}),t=Object(r["reactive"])({tableData:[],prodtypeList:[],loading:!1}),c=function(){O["a"].findAll({pageSize:-1}).then((function(e){t.prodtypeList=e.items})).catch((function(e){b.a.error(e.message)}))},n=function(){var c=Object(p["a"])(regeneratorRuntime.mark((function c(){var r,n;return regeneratorRuntime.wrap((function(c){while(1)switch(c.prev=c.next){case 0:return c.prev=0,t.loading=!0,r=Object.assign({currentPage:e.currentPage,pageSize:e.pageSize},e),c.next=5,f["a"].findAll(r);case 5:n=c.sent,n.items.forEach((function(e){e.statusText=1===e.state?"已发布":"未发布",e.createAt=g()(e.create_at).format("YYYY-MM-DD HH:mm:ss")})),t.tableData=n.items,console.log(n.items),t.total=n.total,c.next=15;break;case 12:c.prev=12,c.t0=c["catch"](0),b.a.error(c.t0.message);case 15:return c.prev=15,t.loading=!1,c.finish(15);case 18:case"end":return c.stop()}}),c,null,[[0,12,15,18]])})));return function(){return c.apply(this,arguments)}}(),a=m(n),o=a.pageState,l=a.fetchFirst,i=a.fetchBySize,u=a.fetchByPageNum,s=a.listIndex;return c(),l(),{params:e,state:t,pageState:o,fetchFirst:l,fetchBySize:i,fetchByPageNum:u,listIndex:s}}};h.render=s;t["default"]=h},"86c9":function(e,t,c){"use strict";var r=c("22b5");t["a"]={create:function(e){return r["a"].post("/prodTypes",e)},delete:function(e){return r["a"].delete("/prodTypes/"+e)},update:function(e){return r["a"].put("/prodTypes/"+e.id,e)},findOne:function(e){return r["a"].get("/prodTypes/",e)},findAll:function(e){return r["a"].get("/prodTypes",e)}}},c4c8:function(e,t,c){"use strict";var r=c("22b5");t["a"]={create:function(e){return r["a"].post("/products",e)},delete:function(e){return r["a"].delete("/products/"+e)},update:function(e){return r["a"].put("/products/"+e.id,e)},findOne:function(e){return r["a"].get("/products/",e)},findAll:function(e){return r["a"].get("/products",e)}}}}]);