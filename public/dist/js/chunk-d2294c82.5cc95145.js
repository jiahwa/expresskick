(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d2294c82"],{"0cb2":function(e,t,r){var n=r("7b0b"),a=Math.floor,o="".replace,c=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,i=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,r,u,l,s){var d=r+e.length,f=u.length,p=i;return void 0!==l&&(l=n(l),p=c),o.call(s,p,(function(n,o){var c;switch(o.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,r);case"'":return t.slice(d);case"<":c=l[o.slice(1,-1)];break;default:var i=+o;if(0===i)return n;if(i>f){var s=a(i/10);return 0===s?n:s<=f?void 0===u[s-1]?o.charAt(1):u[s-1]+o.charAt(1):n}c=u[i-1]}return void 0===c?"":c}))}},"14c3":function(e,t,r){var n=r("c6b6"),a=r("9263");e.exports=function(e,t){var r=e.exec;if("function"===typeof r){var o=r.call(e,t);if("object"!==typeof o)throw TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==n(e))throw TypeError("RegExp#exec called on incompatible receiver");return a.call(e,t)}},2440:function(e,t,r){"use strict";r.r(t);var n=r("8bbf"),a={class:"register-main"},o={class:"form-wrap"},c=Object(n["createVNode"])("div",{class:"form-head"},[Object(n["createVNode"])("h3",null,"注册")],-1),i={style:{"text-align":"center"}},u=Object(n["createTextVNode"])("提交"),l=Object(n["createTextVNode"])("取消");function s(e,t,r,s,d,f){var p=Object(n["resolveComponent"])("el-input"),m=Object(n["resolveComponent"])("el-form-item"),b=Object(n["resolveComponent"])("time-btn"),g=Object(n["resolveComponent"])("el-form"),v=Object(n["resolveComponent"])("el-button");return Object(n["openBlock"])(),Object(n["createBlock"])("div",a,[Object(n["createVNode"])("div",o,[c,Object(n["createVNode"])(g,{model:s.formData,"status-icon":"",rules:s.rules,ref:function(e){return s.formReference=e},"label-width":"110px"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(m,{label:"邮箱：",prop:"email"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(p,{type:"email",modelValue:s.formData.email,"onUpdate:modelValue":t[1]||(t[1]=function(e){return s.formData.email=e}),modelModifiers:{trim:!0},placeholder:"请输入邮箱"},null,8,["modelValue"])]})),_:1}),Object(n["createVNode"])(m,{label:"验证码：",prop:"emailCode"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(p,{modelValue:s.formData.emailCode,"onUpdate:modelValue":t[2]||(t[2]=function(e){return s.formData.emailCode=e}),modelModifiers:{trim:!0},placeholder:"请输入验证码"},{append:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(b,{handler:s.sendVerifyCode},null,8,["handler"])]})),_:1},8,["modelValue"])]})),_:1}),Object(n["createVNode"])(m,{label:"新密码：",prop:"password"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(p,{type:"password",modelValue:s.formData.password,"onUpdate:modelValue":t[3]||(t[3]=function(e){return s.formData.password=e}),modelModifiers:{trim:!0},placeholder:"请输入新密码"},null,8,["modelValue"])]})),_:1}),Object(n["createVNode"])(m,{label:"确认新密码：",prop:"confirmPassword"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(p,{type:"password",modelValue:s.formData.confirmPassword,"onUpdate:modelValue":t[4]||(t[4]=function(e){return s.formData.confirmPassword=e}),modelModifiers:{trim:!0},placeholder:"请输入新密码"},null,8,["modelValue"])]})),_:1})]})),_:1},8,["model","rules"]),Object(n["createVNode"])("div",i,[Object(n["createVNode"])(v,{type:"primary",loading:e.doLoading,onClick:t[5]||(t[5]=function(e){return s.submitForm("forgetLoginForm")})},{default:Object(n["withCtx"])((function(){return[u]})),_:1},8,["loading"]),Object(n["createVNode"])(v,{onClick:s.cancel},{default:Object(n["withCtx"])((function(){return[l]})),_:1},8,["onClick"])])])])}r("7f17");var d=r("6573"),f=r.n(d),p=r("1da1"),m=(r("96cf"),r("22b5")),b={register:function(e){return m["a"].post("/register",e)},sendVerifyCode:function(e){return m["a"].post("/sendEmail",e)}};function g(e,t,r,a,o,c){var i=Object(n["resolveComponent"])("el-button");return Object(n["openBlock"])(),Object(n["createBlock"])(i,{onClick:a.handleClick,disabled:a.status.disabled},{default:Object(n["withCtx"])((function(){return[Object(n["createTextVNode"])(Object(n["toDisplayString"])(a.status.showText),1)]})),_:1},8,["onClick","disabled"])}r("a9e3"),r("5319"),r("ac1f");var v={data:function(){return{disabled:!1,showText:"",seconds:120}},props:{defaultText:{type:String,default:"获取验证码"},handler:{type:Function},formatText:{type:String,default:"{s}秒后重新获取"},time:{type:Number,default:60}},setup:function(e){var t=Object(n["reactive"])({disabled:!1,showText:""}),r=Object(n["toRefs"])(e),a=r.defaultText,o=r.time,c=r.formatText,i=r.handler;t.showText=a.value;var u,l=o.value||120,s=function(e){t.showText=c.value.replace(/\{s\}/,e)},d=function(){t.disabled=!0;var e=l;s(e),u=setInterval((function(){e<2?(t.disabled=!1,t.showText=a.value,e=l,clearInterval(u)):(e--,s(e))}),1e3)},f=function(){var e=Object(p["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=i.value,t&&"function"==typeof t?t((function(e){e&&d()})):d();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n["onUnmounted"])((function(){u&&clearInterval(u)})),{handleClick:f,status:t}}};v.render=g;var h=v,x=r("6389"),O={name:"register-user",components:{TimeBtn:h},setup:function(){var e=Object(x["useRouter"])(),t=Object(n["reactive"])({emailCode:"",email:"",password:"",confirmPassword:""}),r={name:[{required:!0,message:"请输入姓名",trigger:["blur"]},{pattern:/^[\u4E00-\u9FA5A-Za-z]{1,40}$/,message:"姓名不符合要求格式",trigger:"blur"}],email:[{required:!0,message:"请输入邮箱",trigger:["blur"]},{type:"email",message:"邮箱不符合要求格式",trigger:"blur"}],emailCode:[{required:!0,message:"请输入验证码",trigger:["blur"]},{pattern:/^[A-Za-z\d]{6}$/,message:"验证码不符合要求格式",trigger:"blur"}],password:[{required:!0,message:"请输入新密码",trigger:["blur"]},{pattern:/^(?=.*[a-zA-Z])(?=.*\d)[^]{8,20}$/,message:"密码至少包含字母、数字且不少于8位",trigger:"blur"}],confirmPassword:[{required:!0,message:"请输入确认新密码",trigger:["blur"]},{pattern:/^(?=.*[a-zA-Z])(?=.*\d)[^]{8,20}$/,message:"密码至少包含字母、数字且不少于8位",trigger:"blur"}]},a=Object(n["ref"])(null),o=Object(n["reactive"])({captchaUrl:"",doLoading:!1,checked:!1,errorMsg:""}),c=function(){var r=Object(p["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,o.doLoading=!0,r.next=4,a.value.validate().catch((function(){return null}));case 4:if(n=r.sent,!n){r.next=12;break}if(t.confirmPassword===t.password){r.next=9;break}return f.a.error("新密码与确认新密码不相同,请重新输入"),r.abrupt("return");case 9:return r.next=11,b.register(t);case 11:e.push({name:"registerSuc"});case 12:r.next=17;break;case 14:r.prev=14,r.t0=r["catch"](0),f.a.error(r.t0.message);case 17:return r.prev=17,o.doLoading=!1,r.finish(17);case 20:case"end":return r.stop()}}),r,null,[[0,14,17,20]])})));return function(){return r.apply(this,arguments)}}(),i=function(e){t.emailCode="",a.value.validateField(["email"],function(){var r=Object(p["a"])(regeneratorRuntime.mark((function r(n){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(r.prev=0,n){r.next=8;break}return r.next=4,b.sendVerifyCode({email:t.email,type:"register"});case 4:e(!0),f.a.success("发送成功，请登录邮箱查看验证码"),r.next=9;break;case 8:return r.abrupt("return",!1);case 9:r.next=14;break;case 11:r.prev=11,r.t0=r["catch"](0),f.a.error(r.t0.message);case 14:case"end":return r.stop()}}),r,null,[[0,11]])})));return function(e){return r.apply(this,arguments)}}())};return{formData:t,rules:r,sendVerifyCode:i,submitForm:c,status:o,formReference:a,cancel:function(){e.back()}}}};r("6392");O.render=s;t["default"]=O},5319:function(e,t,r){"use strict";var n=r("d784"),a=r("825a"),o=r("50c4"),c=r("a691"),i=r("1d80"),u=r("8aa5"),l=r("0cb2"),s=r("14c3"),d=Math.max,f=Math.min,p=function(e){return void 0===e?e:String(e)};n("replace",2,(function(e,t,r,n){var m=n.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,b=n.REPLACE_KEEPS_$0,g=m?"$":"$0";return[function(r,n){var a=i(this),o=void 0==r?void 0:r[e];return void 0!==o?o.call(r,a,n):t.call(String(a),r,n)},function(e,n){if(!m&&b||"string"===typeof n&&-1===n.indexOf(g)){var i=r(t,e,this,n);if(i.done)return i.value}var v=a(e),h=String(this),x="function"===typeof n;x||(n=String(n));var O=v.global;if(O){var E=v.unicode;v.lastIndex=0}var w=[];while(1){var j=s(v,h);if(null===j)break;if(w.push(j),!O)break;var N=String(j[0]);""===N&&(v.lastIndex=u(h,o(v.lastIndex),E))}for(var y="",C=0,I=0;I<w.length;I++){j=w[I];for(var V=String(j[0]),R=d(f(c(j.index),h.length),0),T=[],_=1;_<j.length;_++)T.push(p(j[_]));var k=j.groups;if(x){var S=[V].concat(T,R,h);void 0!==k&&S.push(k);var A=String(n.apply(void 0,S))}else A=l(V,h,R,T,k,n);R>=C&&(y+=h.slice(C,R)+A,C=R+V.length)}return y+h.slice(C)}]}))},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,r){var n=r("1d80"),a=r("5899"),o="["+a+"]",c=RegExp("^"+o+o+"*"),i=RegExp(o+o+"*$"),u=function(e){return function(t){var r=String(n(t));return 1&e&&(r=r.replace(c,"")),2&e&&(r=r.replace(i,"")),r}};e.exports={start:u(1),end:u(2),trim:u(3)}},6392:function(e,t,r){"use strict";r("a6ff")},7156:function(e,t,r){var n=r("861d"),a=r("d2bb");e.exports=function(e,t,r){var o,c;return a&&"function"==typeof(o=t.constructor)&&o!==r&&n(c=o.prototype)&&c!==r.prototype&&a(e,c),e}},"8aa5":function(e,t,r){"use strict";var n=r("6547").charAt;e.exports=function(e,t,r){return t+(r?n(e,t).length:1)}},9263:function(e,t,r){"use strict";var n=r("ad6d"),a=r("9f7f"),o=RegExp.prototype.exec,c=String.prototype.replace,i=o,u=function(){var e=/a/,t=/b*/g;return o.call(e,"a"),o.call(t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),l=a.UNSUPPORTED_Y||a.BROKEN_CARET,s=void 0!==/()??/.exec("")[1],d=u||s||l;d&&(i=function(e){var t,r,a,i,d=this,f=l&&d.sticky,p=n.call(d),m=d.source,b=0,g=e;return f&&(p=p.replace("y",""),-1===p.indexOf("g")&&(p+="g"),g=String(e).slice(d.lastIndex),d.lastIndex>0&&(!d.multiline||d.multiline&&"\n"!==e[d.lastIndex-1])&&(m="(?: "+m+")",g=" "+g,b++),r=new RegExp("^(?:"+m+")",p)),s&&(r=new RegExp("^"+m+"$(?!\\s)",p)),u&&(t=d.lastIndex),a=o.call(f?r:d,g),f?a?(a.input=a.input.slice(b),a[0]=a[0].slice(b),a.index=d.lastIndex,d.lastIndex+=a[0].length):d.lastIndex=0:u&&a&&(d.lastIndex=d.global?a.index+a[0].length:t),s&&a&&a.length>1&&c.call(a[0],r,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(a[i]=void 0)})),a}),e.exports=i},"9f7f":function(e,t,r){"use strict";var n=r("d039");function a(e,t){return RegExp(e,t)}t.UNSUPPORTED_Y=n((function(){var e=a("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=n((function(){var e=a("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},a6ff:function(e,t,r){},a9e3:function(e,t,r){"use strict";var n=r("83ab"),a=r("da84"),o=r("94ca"),c=r("6eeb"),i=r("5135"),u=r("c6b6"),l=r("7156"),s=r("c04e"),d=r("d039"),f=r("7c73"),p=r("241c").f,m=r("06cf").f,b=r("9bf2").f,g=r("58a8").trim,v="Number",h=a[v],x=h.prototype,O=u(f(x))==v,E=function(e){var t,r,n,a,o,c,i,u,l=s(e,!1);if("string"==typeof l&&l.length>2)if(l=g(l),t=l.charCodeAt(0),43===t||45===t){if(r=l.charCodeAt(2),88===r||120===r)return NaN}else if(48===t){switch(l.charCodeAt(1)){case 66:case 98:n=2,a=49;break;case 79:case 111:n=8,a=55;break;default:return+l}for(o=l.slice(2),c=o.length,i=0;i<c;i++)if(u=o.charCodeAt(i),u<48||u>a)return NaN;return parseInt(o,n)}return+l};if(o(v,!h(" 0o1")||!h("0b1")||h("+0x1"))){for(var w,j=function(e){var t=arguments.length<1?0:e,r=this;return r instanceof j&&(O?d((function(){x.valueOf.call(r)})):u(r)!=v)?l(new h(E(t)),r,j):E(t)},N=n?p(h):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),y=0;N.length>y;y++)i(h,w=N[y])&&!i(j,w)&&b(j,w,m(h,w));j.prototype=x,x.constructor=j,c(a,v,j)}},ac1f:function(e,t,r){"use strict";var n=r("23e7"),a=r("9263");n({target:"RegExp",proto:!0,forced:/./.exec!==a},{exec:a})},ad6d:function(e,t,r){"use strict";var n=r("825a");e.exports=function(){var e=n(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},d784:function(e,t,r){"use strict";r("ac1f");var n=r("6eeb"),a=r("d039"),o=r("b622"),c=r("9263"),i=r("9112"),u=o("species"),l=!a((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),s=function(){return"$0"==="a".replace(/./,"$0")}(),d=o("replace"),f=function(){return!!/./[d]&&""===/./[d]("a","$0")}(),p=!a((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var r="ab".split(e);return 2!==r.length||"a"!==r[0]||"b"!==r[1]}));e.exports=function(e,t,r,d){var m=o(e),b=!a((function(){var t={};return t[m]=function(){return 7},7!=""[e](t)})),g=b&&!a((function(){var t=!1,r=/a/;return"split"===e&&(r={},r.constructor={},r.constructor[u]=function(){return r},r.flags="",r[m]=/./[m]),r.exec=function(){return t=!0,null},r[m](""),!t}));if(!b||!g||"replace"===e&&(!l||!s||f)||"split"===e&&!p){var v=/./[m],h=r(m,""[e],(function(e,t,r,n,a){return t.exec===c?b&&!a?{done:!0,value:v.call(t,r,n)}:{done:!0,value:e.call(r,t,n)}:{done:!1}}),{REPLACE_KEEPS_$0:s,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:f}),x=h[0],O=h[1];n(String.prototype,e,x),n(RegExp.prototype,m,2==t?function(e,t){return O.call(e,this,t)}:function(e){return O.call(e,this)})}d&&i(RegExp.prototype[m],"sham",!0)}}}]);